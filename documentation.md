<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Introduction][1]
-   [dataColor][2]
-   [colorArray][3]
-   [attColorArray][4]
-   [btoColorArray][5]
-   [simpleColorArray][6]
-   [ccrpiText][7]
-   [milesText][8]
-   [sgpText][9]
-   [gradText][10]
-   [btoText][11]
-   [attText][12]
-   [enrollText][13]
-   [subgroupText][14]
-   [raceText][15]
-   [climateText][16]
-   [barGraph][17]
-   [barGraph2][18]
-   [lineGraph][19]

## Introduction

Function list for code to generate School Profiles on APS Insights.

**Meta**

-   **author**: John Keltz

## dataColor

This function compares a school value to the district and state values and outputs the bar color for the school value.

**Parameters**

-   `school` **[number][20]** the school data point
-   `district` **[number][20]** the district average data point
-   `state` **[number][20]** the state average data point

Returns **[string][21]** the hex code for the bar graph color

## colorArray

This function recieves the bar graph array and outputs the color array. It calls [dataColor][2] to build the color array.

**Parameters**

-   `matrix` **[array][22]** data array that will generate the bar graph

Returns **[array][22]** an array of color hex codes to color the bar graph

## attColorArray

This function recieves the attendance bar graph array and outputs the color array. It calls dataColor to build the color array. It's similar to colorArray but does not use a state value.

**Parameters**

-   `matrix` **[array][22]** data array that will generate the bar graph

Returns **[array][22]** an array of color hex codes to color the bar graph

## btoColorArray

This function makes the color array for Beat the Odds by looking up the bto_status value for the current selection.

**Parameters**

-   `array` **[array][22]** data array that will generate the bar graph
-   `year` **[number][20]** year of the BTO data
-   `dataset` **[array][22]** school profile source data

Returns **[array][22]** an array of color hex codes to color the bar graph

## simpleColorArray

This function passes an all blue color array the same length as the data. This allows the subgroup graphs to use the same bar graph function as the achievement graphs.

**Parameters**

-   `array` **[array][22]** data array that will generate the bar graph

Returns **[array][22]** an array of color hex codes to color the bar graph

## ccrpiText

This function writes the text next to the CCRPI graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `selectedSchoolValue` **[number][20]** school ccrpi score
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the CCRPI graph

## milesText

This function writes the text next to the Milestones graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `english` **[number][20]** the school's english proficiency rate
-   `math` **[number][20]** the school's math proficiency rate
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the Milestones graph

## sgpText

This function writes the text next to the student growth graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `math` **[number][20]** the school's math SGP score
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the Milestones graph

## gradText

This function writes the text next to the graduation graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `gradrate` **[number][20]** the school's graduation rate
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the Milestones graph

## btoText

This function writes the text next to the beat the odds graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `score` **[number][20]** the school's beat the odds score
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the BTO graph

## attText

This function writes the text next to the attendance graph.

**Parameters**

-   `selectedSchoolName` **[string][21]** short version of school name
-   `score` **[number][20]** the school's attendance rate
-   `selectedYear` **[string][21]** selected year

Returns **[string][21]** Text next to the attendance graph

## enrollText

This function writes the text next to the enrollment graph. It uses the global variable selectedSchoolName to identify school.

**Parameters**

-   `dataMatrix` **[array][22]** source data fro school profile
-   `yearMatrix` **[array][22]** list of years with enrollment data

Returns **[string][21]** Text next to the enrollment graph

## subgroupText

This function writes the text next to the subgroup graph. Unlike other text, it focuses on explaining the data dates, which aren't otherwise clear.

**Parameters**

-   `subgroupDate` **[string][21]** the year that the subgroup data is from
-   `mobilityDate` **[number][20]** the year that the mobility data is from
-   `directCertDate` **[string][21]** the year that the direct cert data is from

Returns **[string][21]** Text next to the subgroup graph

## raceText

This function writes the text next to the race graph.

**Parameters**

-   `school` **[string][21]** school name
-   `compareSchool` **[string][21]** compare school name
-   `tempYear` **[string][21]** selected year

Returns **[string][21]** Text next to the climate graph

## climateText

This function writes the text next to the climate graph.

**Parameters**

-   `school` **[string][21]** school name
-   `score` **[number][20]** school's result on "I feel safe at school" question
-   `tempYear` **[string][21]** selected year

Returns **[string][21]** Text next to the climate graph

## barGraph

This function generates a bar graph using c3.js.

**Parameters**

-   `dataArray` **[array][22]** Array formatted for cs.js graph function. This is usually generated by the function arrayValues. First line is school names, second line is values corresponding to school names.
-   `colors` **[array][22]** List of hex colors for bar graph. Usually generated by [colorArray][3] or a similar function.
-   `labelFormat` **[string][21]** d3.js label format. Usually '.0%' or '.1f' (i.e a percentage with zero decimals, or a regular number with one decimal.)
-   `divID` **[string][21]** name of the div ID where the graph should go.

Returns **[object][23]** A bar graph attached to the selected div ID.

## barGraph2

This function generates a bar graph using c3.js. Unlike [barGraph][17] it does not color-code the bars. This is used for the Student Population section.

**Parameters**

-   `dataArray` **[array][22]** Array formatted for cs.js graph function. This is generated by the function [raceArrayValues][24]. First line is school names, second line is values corresponding to school names.
-   `labelFormat` **[string][21]** d3.js label format. Usually '.0%' or '.1f' (i.e a percentage with zero decimals, or a regular number with one decimal.)
-   `divID` **[string][21]** name of the div ID where the graph should go.

Returns **[object][23]** A bar graph attached to the selected div ID.

## lineGraph

This function generates a line graph using c3.js.

**Parameters**

-   `dataArray` **[array][22]** Array formatted for cs.js graph function. This is generated by the function [lineData][25]. Each row is a school name and then a list of values by year.
-   `yearArray` **[array][22]** List of years for the line graph. This is generated by the function [yearData][26].
-   `lineColor` **[array][22]** Array of hex colors for line graph. This is generated by the function [lineColorArray][27].
-   `title` **[string][21]** Title at the top of the graph.
-   `divName`  
-   `divID` **[string][21]** name of the div ID where the graph should go.

Returns **[object][23]** A line graph attached to the selected div ID.

[1]: #introduction

[2]: #datacolor

[3]: #colorarray

[4]: #attcolorarray

[5]: #btocolorarray

[6]: #simplecolorarray

[7]: #ccrpitext

[8]: #milestext

[9]: #sgptext

[10]: #gradtext

[11]: #btotext

[12]: #atttext

[13]: #enrolltext

[14]: #subgrouptext

[15]: #racetext

[16]: #climatetext

[17]: #bargraph

[18]: #bargraph2

[19]: #linegraph

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[24]: raceArrayValues

[25]: lineData

[26]: yearData

[27]: lineColorArray
